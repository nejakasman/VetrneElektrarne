<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lokacijski zemljevid</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container-fluid p-0">
        <div id="map" class="vh-100"></div>
<nav class="navbar navbar-expand-lg navbar-light bg-white shadow position-fixed top-0 start-0 end-0 px-4 py-2">
  <div class="container-fluid">
    <ul class="nav">
      <li class="nav-item">
        <button id="toggleForm" class="btn btn-outline-primary ms-3">Dodaj lokacijo</button>
      </li>
      <li class="nav-item">
        <a class="btn btn-outline-primary ms-3" href="dodajTurbino.html">Dodaj turbino</a>
      </li>


    </ul>
  </div>
</nav>

<div id="sidebar" class="position-fixed top-0 start-0 bg-light shadow p-4" style="width: 300px; height: 100vh; z-index: 1040; transform: translateX(-100%); transition: transform 0.3s ease;">
  <h5>Dodaj lokacijo</h5>
  <form id="location-form">
    <div class="mb-3">
      <label for="latitude" class="form-label">Širina:</label>
      <input type="text" id="latitude" name="latitude" class="form-control" placeholder="46.0569">
    </div>
    <div class="mb-3">
      <label for="longitude" class="form-label">Dolžina:</label>
      <input type="text" id="longitude" name="longitude" class="form-control" placeholder="14.5058">
    </div>
    <div class="mb-3">
      <label for="turbine-type" class="form-label">Vrsta turbine:</label>
      <select id="turbine-type" name="turbine-type" class="form-select">
      </select>
    </div>
    <button id="calculate-energy" class="btn btn-success w-100">Izračunaj potencial letne proizvodnje</button>
  </form>
  <div class="mb-3">
  <br>
    <label for="history-list" class="form-label">Zgodovina izračunov:</label>
    <select id="history-list" class="form-select">
      <option value="">Izberi prejšnji izračun...</option>
    </select>
  <button id="load-history-btn" class="btn btn-secondary mt-2">Naloži izračun</button>
  </div>
  <div id="comparison-section" class="mb-3" style="display: none;">
    <label for="compare-turbine-type" class="form-label">Izberi turbino za primerjavo:</label>
    <select id="compare-turbine-type" name="compare-turbine-type" class="form-select">
      <option value="">Izberi turbino</option>
    </select>
    <button id="compare-energy" class="btn btn-primary w-100 mt-2">Primerjaj z drugo turbino</button>
  </div>
</div>

  <label for="longitude">Longitude:</label>
  <input type="number" id="longitude" step="0.0001" /><br />

  <button id="windData">Pridobi podatke za leto 2024</button>

  <div id="result-sidebar" class="collapsed shadow">
    <div class="sidebar-header d-flex justify-content-between align-items-center p-3 border-bottom bg-light">
      <h5 class="mb-0">Rezultati</h5>
      <button id="toggle-result-sidebar" class="btn btn-outline-primary btn-sm ms-3" >Skrij</button>
    </div>

    <div class="sidebar-content p-3">
      <p><strong>Turbina:</strong> <span id="result-turbine-name"></span></p>
      <p><strong>Letna proizvodnja:</strong> <span id="result-annual-energy"></span> kWh</p>
      <p><strong>Druga turbina:</strong> <span id="result-compare-turbine-name">Ni izbrano</span></p>
      <p><strong>Letna proizvodnja (primerjava):</strong> <span id="result-compare-annual-energy">Ni izračunano</span> kWh</p>

      <div class="detailed-result ratio ratio-4x3">
        <canvas id="energy-chart"></canvas>
      </div>
    </div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="script.js"></script>


</body>
</html>
